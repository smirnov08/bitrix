# Работа с товаром корзины
```php
$basket = \Bitrix\Sale\Basket::loadItemsForFUser(
   \Bitrix\Sale\Fuser::getId(),
   \Bitrix\Main\Context::getCurrent()->getSite()
);

// массив объектов \Bitrix\Sale\BasketItem
$basketItems = $basket->getBasketItems(); 

$item = $basketItems[0] //current($basketItems);
$item->getId();         // ID записи корзины
$item->getProductId();  // ID товара
$item->getPrice();      // Цена за единицу
$item->getQuantity();   // Количество
$item->getFinalPrice(); // Сумма
$item->getWeight();     // Вес
$item->getField('NAME');// Любое поле записи корзины
$item->canBuy();        // true, если доступно для покупки
$item->isDelay();       // true, если отложено
```

# Работа со свойствами корзины

# Добавление товара
```php
//количество
$quantity = 1;

//ID товара (торговый каталог)
$productId = 233;

// Получение корзины для текущего пользователя
$basket = \Bitrix\Sale\Basket::loadItemsForFUser(
   \Bitrix\Sale\Fuser::getId(), 
   \Bitrix\Main\Context::getCurrent()->getSite()
);

if ($item = $basket->getExistsItem('catalog', $productId)){

   //Обновление товара в корзине
   $item->setField('QUANTITY', $item->getQuantity() + $quantity);
}else{

   //Добавление товара
   $item = $basket->createItem('catalog', $productId);
   $item->setFields([
      'QUANTITY' => $quantity,
      'CURRENCY' => \Bitrix\Currency\CurrencyManager::getBaseCurrency(),
      'LID' => \Bitrix\Main\Context::getCurrent()->getSite(),
      'PRODUCT_PROVIDER_CLASS' => 'CCatalogProductProvider',
   ]);
}

//Сохранение изменений
$basket->save();
```

# Удаление товара
```php
$productId = 233;

//Получение корзины текущего пользователя
$basket = \Bitrix\Sale\Basket::loadItemsForFUser(
   \Bitrix\Sale\Fuser::getId(), 
   \Bitrix\Main\Context::getCurrent()->getSite()
);

// Получение товара корзины по ID товара
$basket->getItemById($productId)->delete();

//Сохранение изменений
$basket->save();
```
